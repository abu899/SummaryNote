# 21장. 소리치는 아키텍쳐

## 아키텍쳐의 테마

이바 야콥슨(Ivar Jacobson)은 소프트웨어 아키텍쳐는 시스템의 유스케이스를 지원하는 구조라고 지적했다.
그렇기에 소프트웨어 어플리케이션의 아키텍쳐는 어플리케이션의 유스케이스에 대해 소리쳐야한다.

아키텍쳐는 프레임워크에 대한 것이 아니고 절대로 그래서도 안된다.
프레임워크는 사용하는 도구일뿐, 아키텍쳐가 준수해야할 대상이 아니다.

## 아키텍쳐의 목적

좋은 소프트웨어 아키텍쳐는 프레임워크, 데이터베이스, 웹 서버 그리고 다른 개발 환경 문제나 도구에 대한
결정을 미룰 수 있도록 만든다. 프레임워크 또한 열어 둬야 할 선택사항이다.

이러한 결정을 쉽게 번복할 수 있도록 유스케이스에 중점을 두며 지엽적인 관심사에 대한 결합은 분리시킨다.

## 그렇다면 웹은 어떨까?

웹은 전달 매커니즘, 즉 입출력 장치이며 어플리케이션 아키텍쳐에서도 이와같이 다뤄야한다.
실제 어플리케이션을 웹으로 전달할지 여부는 미뤄둬야 할 결정사항 중 하나이다.

## 프레임워크는 도구일 뿐, 삶의 방식은 아니다

프레임워크는 매우 강력하고 상당히 유용하다. 하지만 프레임워크가 모든 것을 하게하자는 태도를 취해서는 안된다.

프레임워크를 어떻게 사용할지, 그리고 프레임워크를 사용하지 않으려면 어떻게 해야할지 평가해야한다.
어떻게 유스케이스 중점으로 둔채 그대로 보존할 수 있을지 생각해야한다.

## 테스트하기 쉬운 아키텍쳐

아키텍쳐가 유스케이스를 최우선으로 한다면 프레임워크를 전혀 준비하지 않더라도 필요한 유스케이스 전부에 대한
단위테스트를 할 수 있어야한다. 웹서버나 데이터베이스가 반드시 연결되어야 테스트를 돌릴 수 있으면 안된다.

엔티티 객체는 반드시 순수 객체(Plain old Object)여야하고, 프레임워크나 데이터베이스 또 다른 것들에 의존해서는 안된다.
유스케이스 객체가 엔티티 객체를 조작해야한다.

## 결론

아키텍쳐는 시스템을 이야기해야하며, 시스템에 적용한 프레임워크에 대해 이야기 해서는 안된다.