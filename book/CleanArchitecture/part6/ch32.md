# 프레임워크는 세부사항이다.

## 프레임워크 제작자

프레임워크 제작자는 자신이 해결해야하는 문제를 알고 이를 해결할 프레임워크를 만들지만,
우리의 문제를 해결하기 위한 프레임워크를 만들지 않는다. 물론 우리가 풀려는 문제와 프레임워크가
해결하는 문제가 겹치는 영역이 크다면 프레임워크는 실제로 유용해진다.

## 혼인 관계의 비대칭성

프레임워크를 사용할 때 문서를 읽고 다른 프레임워크 사용자의 조언에 따라 우리 소프트웨어와
프레임워크를 어떻게 통합할지 생각한다. 대부분 프레임워크를 중심에 두고 우리의 아키텍쳐는 바깥을 감싸야한다고 한다.
즉, 우리 어플리케이션이 가능한 프레임워크에 강하게 결합될 것을 역셜한다.

하지만 한번 결합하면 그 관계를 깨기가 매우 어렵다. 프레임워크 제작자 입장에선 프레임워크와
절대적으로 분리할 수 없는 방식으로 사용하는 사용자가 많아질 수록 본인의 프레임워크의 효과를
입증할 수 있다는 점을 기억하자.

## 위험요인

- 프레임워크의 아키텍쳐가 깔끔하지 않은 경우가 많다
  - 의존성 규칙을 위반하는 경향이 있다.
  - 프레임워크 제작자는 프레임워크가 가장 안쪽 원이 되길 바라며 한번 안으로 들어가면 다시 밖으로 나오기 어렵다
- 제품이 성숙해지면 프레임워크가 제공하는 기능과 틀을 벗어나게 된다
- 프레임워크 버전이 업그레이드 된다거나 사용 중이던 기능이 사라지거나 반영하기 어려운 형태로 변경될 수 있다.

## 해결책

프레임워크를 사용할 순 있지만 결합해서는 안된다. 프레임워크를 바깥쪽 원에 속하는 세부사항으로 취급하자.
프레임워크가 핵심 코드 안으로 들어오지 못하게하고 플러그인 할 수 있는 컴포넌트에 프레임워크를 통합하고 의존성 규칙을 준수하자.

예를 들어, 스프링을 사용할 때 업무 객체보다는 메인컴포넌트에 스프링을 사용해서 의존성을 주입하는 편이 좋다.