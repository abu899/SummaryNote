# MySQL 성능 최적화 입문/실전

## DB 성능 최적화

DB 사용 중 성능이 느려지는 경우가 생길 수 있다.

- 동시 사용자 수 증가
- 데이터 양의 증가
- 비효율적인 SQL문 작성

## DB 성능 개선 전, SQL 튜닝을 먼저해야하는 이유

### DB 성능을 개선하는 방법

- SQL 튜닝
- 캐싱 서버 활용
- 레플리케이션
- 샤딩
- 스케일업

### 왜 SQL 튜닝을 먼저 고려해야할까?

SQL 튜닝을 제외한 나머지 방법은 추가적인 시스템 구축 필요

- 금전, 시간적인 비용 및 관리 비용 발생

근본적인 문제는 SQL 튜닝일 가능성이 높음

- SQL 자체가 비효율적으로 작성됬다면 시스템 성능이 개선되어도 한계가 존재
- 시스템 구축보다 간단한 개선으로 큰 개선 효과 획득

## MySQL 구조 파악

- 어느 부분에서 MySQL 성능을 많이 저하시키는지
- 어떤 요인이 주로 문제를 일으키는지

MySql의 아키텍쳐를 통해 SQL문이 실행되는 과정

1. 클라이언트가 DB에 SQL 요청을 전달
2. MySQL 엔진에서 옵티마이져(Optimizer)가 SQL을 분석 후 데이터를 가져올 수 있는 계획을 세운다
   - 어떤 순서로 테이블에 접근할지, 인덱싱 사용 등
   - 옵티마이져의 계획은 완벽하지 않으므로 SQL 튜닝 필요
3. 옵티마이져가 세운 계획을 바탕으로 스토리지 엔진에서 데이터를 가져옴
   - DB 성능의 대부분의 문제는 스토리지 엔진으로부터 데이터를 가져올 때 발생

SQL 튜닝의 핵심은 `스토리지 엔진으로부터 데이터를 찾기 쉽게 바꾸고, 적은 데이터를 가져오도록 바꾸는 것`이다.

## SQL 튜닝의 핵심

1. 스토리지 엔진에서 데이터를 찾기 쉽게 바꾸기
2. 스토리지 엔진으로부터 가져오는 데이터 양 줄이기

가장 많이 활용되는 방법은 `인덱스` 활용이다.


## Reference

인프런

- 비전공자도 이해할 수 있는 MySQL 성능 최적화 입문/실전 (SQL 튜닝편)